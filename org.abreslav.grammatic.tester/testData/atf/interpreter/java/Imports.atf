#import 
  'string.module'{string}, 	
  'grammatic.typesystem'{some};
  
#import org.abreslav.grammatic.atf.generator.IRenamingManager;

#javaoptions {
	grammarName = 'Imports';
	grammarPackage = 'org.abreslav.grammatic.grammar1';
}

import
	: '#import' importSpec (',' importSpec)* ';'
	;	
# (IRenamingManager manager) {
	importSpec:: #(manager);
}
	
importSpec
	: STRING '{' renaming (',' renaming)* '}'
	;
# (IRenamingManager manager) {
	STRING : moduleName = string.createString(STRING#);
	renaming:: #(manager, moduleName);
}
	
renaming
	: ($old=NAME '=')? $new=NAME
	;
# (IRenamingManager manager, String moduleName) {
	#before : old = null();
	old : old = old#;
	new : addRenaming(manager, moduleName, old, new#);
}